<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuzzWatch - Home </title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon_io/favicon.ico" type="image/x-icon"> <!-- Add this line for the favicon -->
    <!-- Include highlight.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
    <!-- Include highlight.js JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <!-- Initialize highlight.js -->
    <script>hljs.highlightAll();</script>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <img src="favicon_io/android-chrome-192x192.png" alt="Logo" class="sidebar-logo"> <!-- Add your logo image here -->
            <ul>
                <li><a href="index.html">Home</a></li>
                <li>
                    <a href="#" class="toggle" data-target="#sub-menu-guides">Guides</a>
                    <ul id="sub-menu-guides" class="sub-menu">
                        <li>
                            <a href="construct.html" class="toggle" data-target="#sub-sub-menu-building" data-url="construct.html">1 - Building</a>
                        </li>
                        <li>
                            <a href="house.html" class="toggle" data-target="#sub-sub-menu-housing" data-url="house.html">2 - Housing</a>

                        </li>
                        <li>
                            <a href="record.html" class="toggle" data-target="#sub-sub-menu-recording" data-url="record.html">3 - Recording</a>

                        </li>
                        <li>
                            <a href="track.html" class="toggle" data-target="#sub-sub-menu-tracking " data-url="track.html">4 - Tracking</a>

                        </li>
                        <li>
                            <a href="analyze.html" class="toggle" data-target="#sub-sub-menu-analyzing" data-url="analyze.html">5 - Analyzing</a>

                        </li>
                    </ul>
                </li>
                <li>
                    <a href="examples.html">Complete set-up examples</a>
                </li>
                <li>
                    <a href="questions.html">Help</a>
                </li>
            </ul>
        </nav>
        <!-- Main Content -->
        <div class="main-content">
            <header>
                <h1>BuzzWatch : open platform for long-term monitoring of mosquito flight behavior</h1>
            </header>
            <article>
                <p> In this website you will find all the documentation and files necessary to build and use a BuzzWatch platform, from cutting acrylic to plotting the mosquito activity over 3 weeks.  </p>
                <p>  </p>

                <img src="images/Overview_buzzwatch_base.png" alt="Example Image" style="width:100%; max-width:1000px;">

                <ul>
                    <li>
                        <a href="#">Guides</a>
                        <ul >
                            <li>
                                <a href="construct.html">1 - Building acrylic structure and assemble electronic parts.</a> 
                                <ul >
                                    <li><a href="construct.html#design-cage">1.1 - Design Acrylic Cage</a></li>
                                    <li><a href="construct.html#laser-cut">1.2 - Laser Cut Acrylic</a></li>
                                    <li><a href="construct.html#assembly">1.3 - Cage Assembly</a></li>
                                    <li><a href="construct.html#raspberry-pi">1.4 - Raspberry Pi Camera Set-Up</a></li>
                                    <li><a href="construct.html#optional-light">1.5 - [Optional] Raspberry Pi to Light</a></li>
                                    <li><a href="construct.html#optional-measure">1.6 - [Optional] Raspberry Pi to Measure the Environment</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="house.html">2 - Housing mosquitos and manage experiments</a>
                                <ul>
                                    <li><a href="house.html#introduce-mosquitos">2.1 - Introduce mosquitos in the cage</a></li>
                                    <li><a href="house.html#sugar-feeding">2.2 - Manage sugar-feeding</a></li>
                                    <li><a href="house.html#environment-container">2.3 - Examples environment container</a></li>
                                    <li><a href="house.html#stop-experiment">2.4 - Terminate experiment and cleaning</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="record.html">3 - Recording</a>
                                <p>Set-up and adjust Raspberry Pi to continuously record .mp4 videos.</p>
                                <ul>
                                    <li><a href="record.html#Set-up-image">3.1 - Copy Raspberry Pi BuzzWatch image</a></li>
                                    <li><a href="record.html#Live-video">3.2 - Test live video display</a></li>
                                    <li><a href="record.html#Adjust-video">3.3 - Adjust video settings</a></li>
                                    <li><a href="record.html#Schedule-recording">3.4 - Set-up schedule for continuous recording</a></li>
                                    <li><a href="record.html#Storage-video">3.5 - Manage video storage</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="track.html">4 - Tracking</a>
                                <p>Extract mosquito state and trajectories from .mp4 movies.</p>
                                <ul>
                                    <li><a href="track.html#Install-package">4.1 - Install buzzwatch_analysis python packages</a></li>
                                    <li><a href="track.html#overview-algo">4.2 - Segmentation and tracking strategy</a></li>
                                    <li><a href="track.html#test-single-video">4.3 - Test analysis on single video </a></li>
                                    <li><a href="track.html#run-batch">4.4 - Run analysis in batch</a></li>
                                    <li><a href="track.html#quality-check">4.5 - QC</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="analyze.html">5 - Analyzing</a>
                                <p>Visualize and compare long-term activity between conditions.</p>
                                <ul>
                                    <li><a href="analyze.html#Overview">5.1 - Overview of analysis scheme</a></li>
                                    <li><a href="analyze.html#time-series">5.2 - Generate raw data time series</a></li>
                                    <li><a href="analyze.html#average-days">5.3 - Day-to-day variability </a></li>
                                    <li><a href="analyze.html#trend">5.4 - Long-term trends</a></li>
                                    <li><a href="analyze.html#diff-cond">5.5 - Comparing different conditions</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="examples.html">Complete set-up examples</a>
                        <p>Examples of tower, insectarium, etc.</p>
                    </li>
                    <li>
                        <a href="questions.html">Help</a>
                        <p>Troubleshooting, suggestions.</p>
                    </li>
                </ul>
                
                <!-- Other Content -->
            </article>
        </div>
    </div>
    <!-- JavaScript to toggle sub-menus and adjust main content margin -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
        
            function adjustMainContentMargin() {
                const sidebarWidth = sidebar.offsetWidth;
                mainContent.style.marginLeft = `${sidebarWidth}px`;
            }
        
            // Adjust margin on page load
            adjustMainContentMargin();
        
            // Add event listeners to toggle buttons
            document.querySelectorAll('.toggle').forEach(item => {
                item.addEventListener('click', event => {
                    const target = document.querySelector(item.getAttribute('data-target'));
                    if (target) {
                        event.preventDefault();
                        target.classList.toggle('expanded');
                        adjustMainContentMargin(); // Adjust margin after expanding/collapsing
        
                        // Save the opened/closed state in localStorage
                        saveSidebarState();
                    }
        
                    const url = item.getAttribute('data-url');
                    if (url) {
                        window.location.href = url;
                    }
                });
            });
        
            // Adjust margin on window resize
            window.addEventListener('resize', adjustMainContentMargin);
        
            // Function to save sidebar state
            function saveSidebarState() {
                const expandedItems = [];
                document.querySelectorAll('.expanded').forEach(el => {
                    expandedItems.push(el.id);
                });
                localStorage.setItem('sidebarState', JSON.stringify(expandedItems));
            }
        
            // Function to restore sidebar state
            function restoreSidebarState() {
                const savedState = localStorage.getItem('sidebarState');
                if (savedState) {
                    const expandedItems = JSON.parse(savedState);
                    expandedItems.forEach(id => {
                        const item = document.getElementById(id);
                        if (item) {
                            item.classList.add('expanded');
                        }
                    });
                    adjustMainContentMargin();
                }
            }
        
            // Restore sidebar state on page load
            restoreSidebarState();
        });
        </script>
</body>
</html>